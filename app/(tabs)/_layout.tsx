import { Tabs } from "expo-router";
import React from "react";
import { Platform } from "react-native";

import { HapticTab } from "@/components/HapticTab";
import { IconSymbol } from "@/components/ui/IconSymbol";
import TabBarBackground from "@/components/ui/TabBarBackground";
import { Colors } from "@/constants/Colors";
import { useColorScheme } from "@/hooks/useColorScheme";

export default function TabLayout() {
  const colorScheme = useColorScheme();

  return (
    <Tabs
      screenOptions={{
        tabBarActiveTintColor: Colors[colorScheme ?? "light"].tint,
        headerShown: false,
        tabBarButton: HapticTab,
        tabBarBackground: TabBarBackground,
        tabBarStyle: Platform.select({
          ios: {
            // Use a transparent background on iOS to show the blur effect
            position: "absolute",
          },
          default: {},
        }),
      }}
    >
      <Tabs.Screen
        name="index"
        options={{
          title: "Home",
          tabBarIcon: ({ color }) => (
            <IconSymbol
              size={25}
              svgMarkup={`<svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M22.2051 2C21.7156 2.00026 21.2982 2.35484 21.2188 2.83789L20.2461 8.79297C19.0765 9.1332 17.9612 9.59227 16.9102 10.1641L11.9961 6.65429C11.5988 6.3706 11.0548 6.41518 10.709 6.75976L6.81836 10.6465C6.47516 10.9899 6.42821 11.5302 6.70703 11.9277L10.1641 16.873C9.58345 17.9303 9.11421 19.0518 8.76562 20.2324L2.83593 21.2188C2.35443 21.2999 2.00189 21.7168 2.00195 22.2051V27.7051C2.00107 28.1903 2.34855 28.6061 2.82617 28.6914L8.75976 29.7422C9.10646 30.9207 9.57272 32.0431 10.1543 33.1016L6.65429 37.998C6.3706 38.3953 6.41518 38.9394 6.75976 39.2851L10.6484 43.1758C10.9911 43.5185 11.5302 43.5663 11.9277 43.2891L16.8828 39.8203C17.937 40.3955 19.055 40.8579 20.2285 41.2012L21.2187 47.1641C21.299 47.6463 21.7162 47.9999 22.2051 48H27.7051C28.1909 48.0007 28.6069 47.6522 28.6914 47.1738L29.752 41.1875C30.9206 40.839 32.0334 40.3697 33.082 39.791L38.0703 43.291C38.4678 43.5698 39.0081 43.5229 39.3516 43.1797L43.2402 39.2871C43.5864 38.9402 43.6302 38.3937 43.3438 37.9961L39.7871 33.0586C40.3558 32.0149 40.8139 30.9089 41.1543 29.748L47.1719 28.6933C47.6503 28.6089 47.9988 28.1928 47.9981 27.707V22.207C47.9978 21.7175 47.6432 21.3001 47.1602 21.2207L41.1524 20.2383C40.8097 19.0788 40.3503 17.9747 39.7813 16.9316L43.2891 11.9336C43.5679 11.5361 43.5209 10.9958 43.1777 10.6523L39.2871 6.76366C38.9403 6.41754 38.3937 6.37371 37.9961 6.66014L33.0723 10.2012C32.0232 9.6248 30.9097 9.15798 29.7383 8.81249L28.6914 2.82812C28.6078 2.34895 28.1915 1.99945 27.7051 2H22.2051ZM23.0566 4H26.8652L27.8613 9.68555C27.929 10.0751 28.2199 10.3882 28.6035 10.4844C30.066 10.8488 31.4396 11.4266 32.6934 12.1856C33.036 12.3932 33.4695 12.3763 33.7949 12.1426L38.4746 8.7793L41.168 11.4727L37.8359 16.2207C37.6086 16.5443 37.5933 16.9715 37.7969 17.3106C38.5484 18.5615 39.1183 19.9264 39.4824 21.3809C39.5793 21.768 39.8972 22.0605 40.291 22.125L45.998 23.0586V26.8672L40.2793 27.8711C39.8894 27.9401 39.5769 28.2327 39.4824 28.6172C39.1225 30.0698 38.5522 31.4347 37.8008 32.6855C37.5946 33.0281 37.6123 33.4605 37.8457 33.7851L41.2246 38.4746L38.5313 41.1699L33.791 37.8437C33.4658 37.6159 33.0365 37.6021 32.6973 37.8086C31.4498 38.5676 30.0748 39.148 28.6172 39.5176C28.2355 39.6138 27.9458 39.9249 27.877 40.3125L26.8672 46H23.0527L22.1113 40.3379C22.0458 39.9442 21.7526 39.6272 21.3652 39.5312C19.9019 39.1705 18.5221 38.5937 17.2598 37.8359C16.9212 37.6332 16.495 37.6485 16.1719 37.875L11.4688 41.1699L8.77345 38.4707L12.0977 33.8242C12.3299 33.4988 12.346 33.0664 12.1387 32.7246C11.3727 31.4588 10.7933 30.0792 10.4278 28.6094C10.3322 28.2269 10.0209 27.9363 9.63283 27.8672L4.00197 26.8672V23.0527L9.62892 22.1172C10.022 22.052 10.3389 21.7596 10.4356 21.373C10.8043 19.8981 11.3833 18.5187 12.1465 17.2558C12.3521 16.9171 12.3383 16.4889 12.1113 16.164L8.82619 11.4687L11.5235 8.77342L16.1856 12.1055C16.5097 12.3366 16.94 12.3535 17.2813 12.1484C18.5369 11.3943 19.9199 10.8221 21.3848 10.4629C21.7741 10.367 22.0685 10.048 22.1328 9.65232L23.0566 4ZM25 17C20.5936 17 17 20.5936 17 25C17 29.4064 20.5936 33 25 33C29.4064 33 33 29.4064 33 25C33 20.5936 29.4064 17 25 17ZM25 19C28.3256 19 31 21.6744 31 25C31 28.3256 28.3256 31 25 31C21.6745 31 19 28.3256 19 25C19 21.6744 21.6745 19 25 19Z" fill="#D9D9D9"/>
                          </svg>
                          `}
              color={color}
            />
          ),
        }}
      />
      <Tabs.Screen
        name="explore"
        options={{
          title: "Explore",
          tabBarIcon: ({ color }) => (
            <IconSymbol
              size={25}
              svgMarkup={`<svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M22.2051 2C21.7156 2.00026 21.2982 2.35484 21.2188 2.83789L20.2461 8.79297C19.0765 9.1332 17.9612 9.59227 16.9102 10.1641L11.9961 6.65429C11.5988 6.3706 11.0548 6.41518 10.709 6.75976L6.81836 10.6465C6.47516 10.9899 6.42821 11.5302 6.70703 11.9277L10.1641 16.873C9.58345 17.9303 9.11421 19.0518 8.76562 20.2324L2.83593 21.2188C2.35443 21.2999 2.00189 21.7168 2.00195 22.2051V27.7051C2.00107 28.1903 2.34855 28.6061 2.82617 28.6914L8.75976 29.7422C9.10646 30.9207 9.57272 32.0431 10.1543 33.1016L6.65429 37.998C6.3706 38.3953 6.41518 38.9394 6.75976 39.2851L10.6484 43.1758C10.9911 43.5185 11.5302 43.5663 11.9277 43.2891L16.8828 39.8203C17.937 40.3955 19.055 40.8579 20.2285 41.2012L21.2187 47.1641C21.299 47.6463 21.7162 47.9999 22.2051 48H27.7051C28.1909 48.0007 28.6069 47.6522 28.6914 47.1738L29.752 41.1875C30.9206 40.839 32.0334 40.3697 33.082 39.791L38.0703 43.291C38.4678 43.5698 39.0081 43.5229 39.3516 43.1797L43.2402 39.2871C43.5864 38.9402 43.6302 38.3937 43.3438 37.9961L39.7871 33.0586C40.3558 32.0149 40.8139 30.9089 41.1543 29.748L47.1719 28.6933C47.6503 28.6089 47.9988 28.1928 47.9981 27.707V22.207C47.9978 21.7175 47.6432 21.3001 47.1602 21.2207L41.1524 20.2383C40.8097 19.0788 40.3503 17.9747 39.7813 16.9316L43.2891 11.9336C43.5679 11.5361 43.5209 10.9958 43.1777 10.6523L39.2871 6.76366C38.9403 6.41754 38.3937 6.37371 37.9961 6.66014L33.0723 10.2012C32.0232 9.6248 30.9097 9.15798 29.7383 8.81249L28.6914 2.82812C28.6078 2.34895 28.1915 1.99945 27.7051 2H22.2051ZM23.0566 4H26.8652L27.8613 9.68555C27.929 10.0751 28.2199 10.3882 28.6035 10.4844C30.066 10.8488 31.4396 11.4266 32.6934 12.1856C33.036 12.3932 33.4695 12.3763 33.7949 12.1426L38.4746 8.7793L41.168 11.4727L37.8359 16.2207C37.6086 16.5443 37.5933 16.9715 37.7969 17.3106C38.5484 18.5615 39.1183 19.9264 39.4824 21.3809C39.5793 21.768 39.8972 22.0605 40.291 22.125L45.998 23.0586V26.8672L40.2793 27.8711C39.8894 27.9401 39.5769 28.2327 39.4824 28.6172C39.1225 30.0698 38.5522 31.4347 37.8008 32.6855C37.5946 33.0281 37.6123 33.4605 37.8457 33.7851L41.2246 38.4746L38.5313 41.1699L33.791 37.8437C33.4658 37.6159 33.0365 37.6021 32.6973 37.8086C31.4498 38.5676 30.0748 39.148 28.6172 39.5176C28.2355 39.6138 27.9458 39.9249 27.877 40.3125L26.8672 46H23.0527L22.1113 40.3379C22.0458 39.9442 21.7526 39.6272 21.3652 39.5312C19.9019 39.1705 18.5221 38.5937 17.2598 37.8359C16.9212 37.6332 16.495 37.6485 16.1719 37.875L11.4688 41.1699L8.77345 38.4707L12.0977 33.8242C12.3299 33.4988 12.346 33.0664 12.1387 32.7246C11.3727 31.4588 10.7933 30.0792 10.4278 28.6094C10.3322 28.2269 10.0209 27.9363 9.63283 27.8672L4.00197 26.8672V23.0527L9.62892 22.1172C10.022 22.052 10.3389 21.7596 10.4356 21.373C10.8043 19.8981 11.3833 18.5187 12.1465 17.2558C12.3521 16.9171 12.3383 16.4889 12.1113 16.164L8.82619 11.4687L11.5235 8.77342L16.1856 12.1055C16.5097 12.3366 16.94 12.3535 17.2813 12.1484C18.5369 11.3943 19.9199 10.8221 21.3848 10.4629C21.7741 10.367 22.0685 10.048 22.1328 9.65232L23.0566 4ZM25 17C20.5936 17 17 20.5936 17 25C17 29.4064 20.5936 33 25 33C29.4064 33 33 29.4064 33 25C33 20.5936 29.4064 17 25 17ZM25 19C28.3256 19 31 21.6744 31 25C31 28.3256 28.3256 31 25 31C21.6745 31 19 28.3256 19 25C19 21.6744 21.6745 19 25 19Z" fill="#D9D9D9"/>
            </svg>
            `}
              color={color}
            />
          ),
        }}
      />
      {/* <Tabs.Screen
        name="explore"
        options={{
          title: 'Explore',
          tabBarIcon: ({ color }) => <IconSymbol size={28} name="paperplane.fill" color={color} />,
        }}
      />
      <Tabs.Screen
        name="explore2"
        options={{
          title: 'Explore2',
          tabBarIcon: ({ color }) => <IconSymbol size={28} name="paperplane.fill" color={color} />,
        }}
      /> */}
    </Tabs>
  );
}
